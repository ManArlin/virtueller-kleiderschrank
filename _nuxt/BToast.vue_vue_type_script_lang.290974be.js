import{r as S}from"./dom.ed296b52.js";import{n as T}from"./normalizeSlot.942441ce.js";import{t as j}from"./number.a61965f3.js";import{i as H}from"./isLink.e724b3f6.js";import{u as a}from"./useBooleanish.b579a75e.js";import"./useBreadcrumb.ba721e02.js";import{_ as z}from"./BTransition.vue_vue_type_script_setup_true_lang.3bf5e645.js";import{_ as q}from"./BCloseButton.vue_vue_type_script_setup_true_lang.f8c3144f.js";import K,{BLINK_PROPS as G}from"./BLink.7b55f212.js";import{d as J,v as o,k as b,j as P,x as Q,y as W,l as X,z as _,m as n}from"./entry.08d5f432.js";const Y="toast-title",V=1e3,re=J({components:{BLink:K},props:{...G,delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:[Boolean,String],default:!0},id:{type:String},isStatus:{type:[Boolean,String],default:!1},autoHide:{type:[Boolean,String],default:!0},noCloseButton:{type:[Boolean,String],default:!1},noFade:{type:[Boolean,String],default:!1},noHoverPause:{type:[Boolean,String],default:!1},solid:{type:[Boolean,String],default:!1},static:{type:[Boolean,String],default:!1},title:{type:String},modelValue:{type:[Boolean,String],default:!1},toastClass:{type:Array},variant:{type:String}},emits:["destroyed","update:modelValue"],setup(e,{emit:m,slots:B}){a(o(e,"animation"));const C=a(o(e,"isStatus")),v=a(o(e,"autoHide")),$=a(o(e,"noCloseButton")),w=a(o(e,"noFade")),k=a(o(e,"noHoverPause"));a(o(e,"solid")),a(o(e,"static"));const g=a(o(e,"modelValue")),r=b(!1),d=b(!1),y=b(!1),x=P(()=>({[`b-toast-${e.variant}`]:e.variant!==void 0,show:y.value||r.value}));let f,l,t;const c=()=>{typeof f>"u"||(clearTimeout(f),f=void 0)},L=P(()=>Math.max(j(e.delay,0),V)),s=()=>{g.value&&(l=t=0,c(),d.value=!0,S(()=>{y.value=!1}))},A=()=>{c(),m("update:modelValue",!0),l=t=0,d.value=!1,_(()=>{S(()=>{y.value=!0})})},E=()=>{if(!v.value||k.value||!f||t)return;const i=Date.now()-l;i>0&&(c(),t=Math.max(L.value-i,V))},F=()=>{(!v.value||k.value||!t)&&(t=l=0),O()};Q(()=>g.value,i=>{i?A():s()});const O=()=>{c(),v.value&&(f=setTimeout(s,t||L.value),l=Date.now(),t=0)},I=()=>{r.value=!0,m("update:modelValue",!0)},M=()=>{r.value=!1,O()},N=()=>{r.value=!0},p=()=>{r.value=!1,t=l=0,m("update:modelValue",!1)};W(()=>{c(),v.value&&m("destroyed",e.id)}),X(()=>{_(()=>{g.value&&S(()=>{A()})})});const R=()=>{_(()=>{S(()=>{s()})})};return()=>{const i=()=>{const u=[],D=T(Y,{hide:s},B);D?u.push(n(D)):e.title&&u.push(n("strong",{class:"me-auto"},e.title)),!$.value&&u.length!==0&&u.push(n(q,{class:["btn-close"],onClick:()=>{s()}}));const h=[];if(u.length>0&&h.push(n(e.headerTag,{class:"toast-header"},{default:()=>u})),T("default",{hide:s},B)||e.body){const U=n(H(e)?"b-link":"div",{class:["toast-body",e.bodyClass],onClick:H(e)?{click:R}:{}},T("default",{hide:s},B)||e.body);h.push(U)}return n("div",{class:["toast",e.toastClass,x.value],tabindex:"0"},h)};return n("div",{class:["b-toast"],id:e.id,role:d.value?null:C.value?"status":"alert","aria-live":d.value?null:C.value?"polite":"assertive","aria-atomic":d.value?null:"true",onmouseenter:E,onmouseleave:F},[n(z,{noFade:w.value,onAfterEnter:M,onBeforeEnter:I,onAfterLeave:p,onBeforeLeave:N},()=>[y.value?i():""])])}}});export{Y as S,re as _};
