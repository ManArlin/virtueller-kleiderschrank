import{d as Z,R as _,v as r,k as A,j as g,x as D,l as ee,O as ae,o as i,c as h,w as le,u,n as p,F as k,q as O,s as v,K as B,S as I,a as $,M as T,N as te,W as se,e as ne,t as oe}from"./entry.08d5f432.js";import{B as ie}from"./BvEvent.ebb941ad.js";import"./dom.ed296b52.js";import{g as K}from"./getId.5b118acc.js";import{u as ue}from"./useAlignment.be39f263.js";import{u as f}from"./useBooleanish.b579a75e.js";import"./useBreadcrumb.ba721e02.js";const re=["id","data-bs-target","aria-controls","aria-selected","onClick"],ce=Symbol(),Ce=Z({__name:"BTabs",props:{activeNavItemClass:null,activeTabClass:null,align:null,card:{default:!1},contentClass:null,end:{default:!1},fill:{default:!1},id:null,justified:{default:!1},lazy:{default:!1},navClass:null,navWrapperClass:null,noFade:{default:!1},noNavStyle:{default:!1},pills:{default:!1},small:{default:!1},tag:{default:"div"},vertical:{default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(m,{emit:N}){const s=m,S=_(),C=f(r(s,"card")),j=f(r(s,"end")),L=f(r(s,"fill")),P=f(r(s,"justified")),R=f(r(s,"lazy")),q=f(r(s,"noFade")),G=f(r(s,"noNavStyle")),w=f(r(s,"pills")),H=f(r(s,"small")),F=f(r(s,"vertical")),z=A(s.modelValue),E=A(""),o=g({get:()=>z.value,set:a=>{z.value=a,l.value.length>0&&a>=0&&a<l.value.length?E.value=l.value[a].buttonId:E.value="",N("update:modelValue",a)}}),l=g(()=>{let a=[];return S.default&&(a=W(S).map((e,t)=>{e.props||(e.props={});const n=e.props["button-id"]||K("tab"),c=e.props.id||K(),d=o.value>-1?t===o.value:e.props.active==="",y=e.props["title-item-class"],M=e.props["title-link-attributes"];return{buttonId:n,contentId:c,active:d,disabled:e.props.disabled===""||e.props.disabled===!0,navItemClasses:[{active:d,disabled:e.props.disabled===""||e.props.disabled===!0},d&&s.activeNavItemClass?s.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!q.value},d&&s.activeTabClass?s.activeTabClass:null],target:`#${c}`,title:e.props.title,titleItemClass:y,titleLinkAttributes:M,onClick:e.props.onClick,tab:e,tabComponent:()=>W(S)[t]}})),a}),V=g(()=>!((l==null?void 0:l.value)&&l.value.length>0)),J=g(()=>({"d-flex":F.value,"align-items-start":F.value})),Q=ue(r(s,"align")),U=g(()=>({"nav-pills":w.value,"flex-column me-3":F.value,[Q.value]:s.align!==void 0,"nav-fill":L.value,"card-header-tabs":C.value,"nav-justified":P.value,"nav-tabs":!G.value&&!w.value,small:H.value})),b=a=>{let e=!1;if(a!==void 0&&a>-1&&a<l.value.length&&!l.value[a].disabled&&(o.value<0||l.value[a].buttonId!==E.value)){const t=new ie("activate-tab",{cancelable:!0});N("activate-tab",a,o.value,t),t.defaultPrevented||(o.value=a,e=!0)}return!e&&s.modelValue!==o.value&&N("update:modelValue",o.value),e},X=(a,e)=>{var t;b(e),e>=0&&!l.value[e].disabled&&((t=l.value[e])==null?void 0:t.onClick)&&typeof l.value[e].onClick=="function"&&l.value[e].onClick(a)},W=a=>!a||!a.default?[]:a.default().reduce((e,t)=>(typeof t.type=="symbol"?e=e.concat(t.children):e.push(t),e),[]).filter(e=>{var t;return((t=e.type)==null?void 0:t.__name)==="BTab"});return b(z.value),D(()=>s.modelValue,(a,e)=>{if(a===e)return;if(a=Math.max(a,-1),e=Math.max(e,-1),l.value.length<=0){o.value=-1;return}const t=a>e;let n=a;const c=l.value.length-1;for(;n>=0&&n<=c&&l.value[n].disabled;)n+=t?1:-1;if(n<0){b(0);return}if(n>=l.value.length){b(l.value.length-1);return}b(n)}),D(()=>l.value,()=>{let a=l.value.map(e=>e.active&&!e.disabled).lastIndexOf(!0);a<0&&(o.value>=l.value.length?a=l.value.map(e=>!e.disabled).lastIndexOf(!0):l.value[o.value]&&!l.value[o.value].disabled&&(a=o.value)),a<0&&(a=l.value.map(e=>!e.disabled).indexOf(!0)),l.value.forEach((e,t)=>e.active=t===a),b(a)}),ee(()=>{if(o.value<0&&l.value.length>0&&!l.value.some(a=>a.active)){const a=l.value.map(e=>!e.disabled).indexOf(!0);b(a>=0?a:-1)}}),ae(ce,{lazy:R.value,card:C.value}),(a,e)=>(i(),h(T(m.tag),{id:m.id,class:v(["tabs",u(J)])},{default:le(()=>[u(j)?(i(),p("div",{key:0,class:v(["tab-content",m.contentClass])},[(i(!0),p(k,null,O(u(l),({tabComponent:t,contentId:n,tabClasses:c,active:d},y)=>(i(),h(T(t()),{id:n,key:y,class:v(c),active:d},null,8,["id","class","active"]))),128)),u(V)?(i(),p("div",{key:"bv-empty-tab",class:v(["tab-pane active",{"card-body":u(C)}])},[B(a.$slots,"empty")],2)):I("",!0)],2)):I("",!0),$("div",{class:v([m.navWrapperClass,{"card-header":u(C),"ms-auto":m.vertical&&u(j)}])},[$("ul",{class:v(["nav",[u(U),m.navClass]]),role:"tablist"},[B(a.$slots,"tabs-start"),(i(!0),p(k,null,O(u(l),({tab:t,buttonId:n,contentId:c,navItemClasses:d,active:y,target:M},x)=>(i(),p("li",{key:x,class:v(["nav-item",t.props["title-item-class"]])},[$("button",te({id:n,class:["nav-link",d],"data-bs-toggle":"tab","data-bs-target":M,role:"tab","aria-controls":c,"aria-selected":y},t.props["title-link-attributes"],{onClick:se(Y=>X(Y,x),["stop","prevent"])}),[t.children&&t.children.title?(i(),h(T(t.children.title),{key:0})):(i(),p(k,{key:1},[ne(oe(t.props.title),1)],64))],16,re)],2))),128)),B(a.$slots,"tabs-end")],2)],2),u(j)?I("",!0):(i(),p("div",{key:1,class:v(["tab-content",m.contentClass])},[(i(!0),p(k,null,O(u(l),({tabComponent:t,contentId:n,tabClasses:c,active:d},y)=>(i(),h(T(t()),{id:n,key:y,class:v(c),active:d},null,8,["id","class","active"]))),128)),u(V)?(i(),p("div",{key:"bv-empty-tab",class:v(["tab-pane active",{"card-body":u(C)}])},[B(a.$slots,"empty")],2)):I("",!0)],2))]),_:3},8,["id","class"]))}});export{Ce as _,ce as i};
