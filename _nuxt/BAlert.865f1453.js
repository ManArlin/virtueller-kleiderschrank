import{_ as M}from"./BTransition.vue_vue_type_script_setup_true_lang.3bf5e645.js";import{_ as N}from"./BCloseButton.vue_vue_type_script_setup_true_lang.f8c3144f.js";import R from"./BButton.65acb4e3.js";import{c as D}from"./dom.ed296b52.js";import{r as w,a as I,u as B}from"./useBooleanish.b579a75e.js";import"./useBreadcrumb.ba721e02.js";import{k as p,j as y,B as k,D as g,d as T,v as r,R as U,Q as j,o as V,c as S,w as L,u as b,n as O,K as x,F as z,e as K,t as Q,S as E,s as q}from"./entry.08d5f432.js";import"./BSpinner.vue_vue_type_script_setup_true_lang.e366da14.js";import"./isLink.e724b3f6.js";import"./BLink.7b55f212.js";const G=(s,i=p(1e3),t={})=>{const e=p(!1),a=p(0),u=p(w(s)),n=p(w(i)),l=y(()=>Math.ceil(u.value/n.value)),_=y(()=>c.value||e.value?Math.round(u.value-a.value*n.value):0),{pause:C,resume:h,isActive:c}=I(()=>a.value=a.value+1,i,t),m=()=>{e.value=!1,a.value=0,h()},d=()=>{e.value=!1,a.value=l.value};k(()=>{const o=w(s),v=u.value;o!==v&&(u.value=o,d(),m())}),k(()=>{const o=w(i),v=n.value;o!==v&&(n.value=o,d(),m())}),k(()=>{a.value>l.value&&(a.value=l.value),a.value===l.value&&C()});const P=()=>{c.value!==!1&&(e.value=!0,C())},f=()=>{a.value!==l.value&&(e.value=!1,h())};return{isActive:g(c),isPaused:g(e),restart:m,stop:d,pause:P,resume:f,value:_}},te=T({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{default:!1},fade:{default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:null,immediate:{default:!0},interval:{default:1e3},showOnPause:{default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(s,{expose:i,emit:t}){const e=s,a=B(r(e,"dismissible")),u=B(r(e,"fade")),n=B(r(e,"immediate")),l=B(r(e,"showOnPause")),_=U(),C=y(()=>!D(_.close)),h=y(()=>[[`alert-${e.variant}`],{"alert-dismissible":a.value}]),{isActive:c,pause:m,restart:d,resume:P,stop:f,isPaused:o,value:v}=G(typeof e.modelValue=="boolean"?0:r(e,"modelValue"),r(e,"interval"),{immediate:typeof e.modelValue=="number"&&n.value}),F=y(()=>typeof e.modelValue=="boolean"?e.modelValue:c.value||l.value&&o.value);k(()=>t("close-countdown",v.value));const A=()=>{typeof e.modelValue=="boolean"?t("update:modelValue",!1):(t("update:modelValue",0),f()),t("closed")};return j(()=>f()),i({pause:m,resume:P,restart:d,stop:f}),($,H)=>(V(),S(M,{"no-fade":!b(u),"trans-props":{enterToClass:"show"}},{default:L(()=>[b(F)?(V(),O("div",{key:0,class:q(["alert",b(h)]),role:"alert","aria-live":"polite","aria-atomic":"true"},[x($.$slots,"default"),b(a)?(V(),O(z,{key:0},[b(C)||s.closeContent?(V(),S(R,{key:0,type:"button",onClick:A},{default:L(()=>[x($.$slots,"close",{},()=>[K(Q(s.closeContent),1)])]),_:3})):(V(),S(N,{key:1,"aria-label":s.dismissLabel,onClick:A},null,8,["aria-label"]))],64)):E("",!0)],2)):E("",!0)]),_:3},8,["no-fade"]))}});export{te as default};
